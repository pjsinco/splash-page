{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/main.js"],"names":[],"mappings":"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","file":"pilot.bundle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","//require('./../../node_modules/waypoints/lib/noframework.waypoints.min.js')\n\n$(document).ready(function() {\n\n  const reveals = document.querySelectorAll('.reveal')\n  const mainBody = document.querySelector('.main-body')\n\n  reveals.forEach(function(revealElement) {\n    new Waypoint({\n      element: revealElement,\n      handler: function() {\n        this.element.classList.add('on')\n      },\n      offset: '100%',\n    })\n  })\n\n  const fan = new Waypoint({\n    element: document.querySelector('.fan'),\n    handler: function(direction) {\n      this.element.classList.add('fan-out')\n    },\n    //offset: '-150%',\n    offset: '25%',\n  })\n\n//  new Waypoint({\n//    element: document.querySelector('.super'),\n//    handler: function(direction) {\n//      if (direction === 'down') {\n//        mainBody.classList.remove('fixed')\n//        mainBody.style.paddingTop = '50px'\n//        mainBody.scrollIntoView()\n//      } \n//    },\n//    offset: '-100%',\n//  })\n//\n//  new Waypoint({\n//    element: document.querySelector('#fixedFlag'),\n//    handler: function(direction) {\n//      if (direction === 'up') {\n//        mainBody.classList.add('fixed') \n//        mainBody.style.paddingTop = '0'\n//        //window.scrollBy(0, window.innerHeight) \n//        //window.scrollBy(0, -300) \n//      }\n//    },\n//    //offset: '50px',\n//  })\n\n})\n\n\njQuery(document).ready(function($){\n\tvar animating = false;\n\n\t//update arrows visibility and detect which section is visible in the viewport\n\tsetSlider();\n\n\t$(window).on('scroll resize', function(){\n\t\t(!window.requestAnimationFrame) ? setSlider() : window.requestAnimationFrame(setSlider);\n\t});\n\n\t//move to next/previous section clicking on arrows\n  $('.cd-vertical-nav .cd-prev').on('click', function(){\n  \tprevSection();\n  });\n  $('.cd-vertical-nav .cd-next').on('click', function(){\n  \tnextSection();\n  });\n\n  //move to next/previous using the keyboards\n  $(document).keydown(function(event){\n\tif( event.which=='38' ) {\n\t\tprevSection();\n\t\tevent.preventDefault();\n\t} else if( event.which=='40' ) {\n\t\tnextSection();\n\t\tevent.preventDefault();\n\t}\n});\n\n\t//go to next section\n\tfunction nextSection() {\n\t\tif (!animating) {\n\t\t\tif ($('.is-visible[data-type=\"slider-item\"]').next().length > 0) smoothScroll($('.is-visible[data-type=\"slider-item\"]').next());\n\t\t}\n\t}\n\n\t//go to previous section\n\tfunction prevSection() {\n\t\tif (!animating) {\n\t\t\tvar prevSection = $('.is-visible[data-type=\"slider-item\"]');\n\t\t\tif(prevSection.length > 0 && $(window).scrollTop() != prevSection.offset().top) {\n\t\t\t\tsmoothScroll(prevSection);\n\t\t\t} else if(prevSection.prev().length > 0 && $(window).scrollTop() == prevSection.offset().top) {\n\t\t\t\tsmoothScroll(prevSection.prev('[data-type=\"slider-item\"]'));\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setSlider() {\n\t\tcheckNavigation();\n\t\tcheckVisibleSection();\n\t}\n\n\t//update the visibility of the navigation arrows\n\tfunction checkNavigation() {\n\t\t( $(window).scrollTop() < $(window).height()/2 ) ? $('.cd-vertical-nav .cd-prev').addClass('inactive') : $('.cd-vertical-nav .cd-prev').removeClass('inactive');\n\t\t( $(window).scrollTop() > $(document).height() - 3*$(window).height()/2 ) ? $('.cd-vertical-nav .cd-next').addClass('inactive') : $('.cd-vertical-nav .cd-next').removeClass('inactive');\n\t}\n\n\t//detect which section is visible in the viewport\n\tfunction checkVisibleSection() {\n\t\tvar scrollTop = $(window).scrollTop(),\n\t\t\twindowHeight = $(window).height();\n\n\t\t$('[data-type=\"slider-item\"]').each(function(){\n\t\t\tvar actualBlock = $(this),\n\t\t\t\toffset = scrollTop - actualBlock.offset().top;\n\t\t\t//add/remove .is-visible class if the section is in the viewport - it is used to navigate through the sections\n\t\t\t( offset >= 0 && offset < windowHeight ) ? actualBlock.addClass('is-visible') : actualBlock.removeClass('is-visible');\n\t\t});\n\t}\n\n\tfunction smoothScroll(target) {\n\t\tanimating = true;\n        $('body,html').animate({'scrollTop': target.offset().top}, 500, function(){ animating = false; });\n\t}\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVc7O0FBRTNCLEtBQU0sVUFBVSxTQUFTLGdCQUFULENBQTBCLFNBQTFCLENBQWhCO0FBQ0EsS0FBTSxXQUFXLFNBQVMsYUFBVCxDQUF1QixZQUF2QixDQUFqQjs7QUFFQSxTQUFRLE9BQVIsQ0FBZ0IsVUFBUyxhQUFULEVBQXdCO0FBQ3RDLE1BQUksUUFBSixDQUFhO0FBQ1gsWUFBUyxhQURFO0FBRVgsWUFBUyxtQkFBVztBQUNsQixTQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLEdBQXZCLENBQTJCLElBQTNCO0FBQ0QsSUFKVTtBQUtYLFdBQVE7QUFMRyxHQUFiO0FBT0QsRUFSRDs7QUFVQSxLQUFNLE1BQU0sSUFBSSxRQUFKLENBQWE7QUFDdkIsV0FBUyxTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsQ0FEYztBQUV2QixXQUFTLGlCQUFTLFNBQVQsRUFBb0I7QUFDM0IsUUFBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixDQUEyQixTQUEzQjtBQUNELEdBSnNCO0FBS3ZCO0FBQ0EsVUFBUTtBQU5lLEVBQWIsQ0FBWjs7QUFTRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQyxDQWpERDs7QUFvREEsT0FBTyxRQUFQLEVBQWlCLEtBQWpCLENBQXVCLFVBQVMsQ0FBVCxFQUFXO0FBQ2pDLEtBQUksWUFBWSxLQUFoQjs7QUFFQTtBQUNBOztBQUVBLEdBQUUsTUFBRixFQUFVLEVBQVYsQ0FBYSxlQUFiLEVBQThCLFlBQVU7QUFDdEMsR0FBQyxPQUFPLHFCQUFU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LEVBQTJELEdBQTNELEVBQWdFLFlBQVU7QUFBRSxlQUFZLEtBQVo7QUFBb0IsR0FBaEc7QUFDTjtBQUNELENBNUVEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCIvL3JlcXVpcmUoJy4vLi4vLi4vbm9kZV9tb2R1bGVzL3dheXBvaW50cy9saWIvbm9mcmFtZXdvcmsud2F5cG9pbnRzLm1pbi5qcycpXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IHJldmVhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV2ZWFsJylcbiAgY29uc3QgbWFpbkJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1ib2R5JylcblxuICByZXZlYWxzLmZvckVhY2goZnVuY3Rpb24ocmV2ZWFsRWxlbWVudCkge1xuICAgIG5ldyBXYXlwb2ludCh7XG4gICAgICBlbGVtZW50OiByZXZlYWxFbGVtZW50LFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdvbicpXG4gICAgICB9LFxuICAgICAgb2Zmc2V0OiAnMTAwJScsXG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBmYW4gPSBuZXcgV2F5cG9pbnQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYW4nKSxcbiAgICBoYW5kbGVyOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmYW4tb3V0JylcbiAgICB9LFxuICAgIC8vb2Zmc2V0OiAnLTE1MCUnLFxuICAgIG9mZnNldDogJzI1JScsXG4gIH0pXG5cbi8vICBuZXcgV2F5cG9pbnQoe1xuLy8gICAgZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1cGVyJyksXG4vLyAgICBoYW5kbGVyOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbi8vICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4vLyAgICAgICAgbWFpbkJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKVxuLy8gICAgICAgIG1haW5Cb2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnNTBweCdcbi8vICAgICAgICBtYWluQm9keS5zY3JvbGxJbnRvVmlldygpXG4vLyAgICAgIH0gXG4vLyAgICB9LFxuLy8gICAgb2Zmc2V0OiAnLTEwMCUnLFxuLy8gIH0pXG4vL1xuLy8gIG5ldyBXYXlwb2ludCh7XG4vLyAgICBlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZml4ZWRGbGFnJyksXG4vLyAgICBoYW5kbGVyOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbi8vICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuLy8gICAgICAgIG1haW5Cb2R5LmNsYXNzTGlzdC5hZGQoJ2ZpeGVkJykgXG4vLyAgICAgICAgbWFpbkJvZHkuc3R5bGUucGFkZGluZ1RvcCA9ICcwJ1xuLy8gICAgICAgIC8vd2luZG93LnNjcm9sbEJ5KDAsIHdpbmRvdy5pbm5lckhlaWdodCkgXG4vLyAgICAgICAgLy93aW5kb3cuc2Nyb2xsQnkoMCwgLTMwMCkgXG4vLyAgICAgIH1cbi8vICAgIH0sXG4vLyAgICAvL29mZnNldDogJzUwcHgnLFxuLy8gIH0pXG5cbn0pXG5cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcblx0dmFyIGFuaW1hdGluZyA9IGZhbHNlO1xuXG5cdC8vdXBkYXRlIGFycm93cyB2aXNpYmlsaXR5IGFuZCBkZXRlY3Qgd2hpY2ggc2VjdGlvbiBpcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuXHRzZXRTbGlkZXIoKTtcblxuXHQkKHdpbmRvdykub24oJ3Njcm9sbCByZXNpemUnLCBmdW5jdGlvbigpe1xuXHRcdCghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgPyBzZXRTbGlkZXIoKSA6IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2V0U2xpZGVyKTtcblx0fSk7XG5cblx0Ly9tb3ZlIHRvIG5leHQvcHJldmlvdXMgc2VjdGlvbiBjbGlja2luZyBvbiBhcnJvd3NcbiAgJCgnLmNkLXZlcnRpY2FsLW5hdiAuY2QtcHJldicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gIFx0cHJldlNlY3Rpb24oKTtcbiAgfSk7XG4gICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLW5leHQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICBcdG5leHRTZWN0aW9uKCk7XG4gIH0pO1xuXG4gIC8vbW92ZSB0byBuZXh0L3ByZXZpb3VzIHVzaW5nIHRoZSBrZXlib2FyZHNcbiAgJChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbihldmVudCl7XG5cdGlmKCBldmVudC53aGljaD09JzM4JyApIHtcblx0XHRwcmV2U2VjdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0gZWxzZSBpZiggZXZlbnQud2hpY2g9PSc0MCcgKSB7XG5cdFx0bmV4dFNlY3Rpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG59KTtcblxuXHQvL2dvIHRvIG5leHQgc2VjdGlvblxuXHRmdW5jdGlvbiBuZXh0U2VjdGlvbigpIHtcblx0XHRpZiAoIWFuaW1hdGluZykge1xuXHRcdFx0aWYgKCQoJy5pcy12aXNpYmxlW2RhdGEtdHlwZT1cInNsaWRlci1pdGVtXCJdJykubmV4dCgpLmxlbmd0aCA+IDApIHNtb290aFNjcm9sbCgkKCcuaXMtdmlzaWJsZVtkYXRhLXR5cGU9XCJzbGlkZXItaXRlbVwiXScpLm5leHQoKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly9nbyB0byBwcmV2aW91cyBzZWN0aW9uXG5cdGZ1bmN0aW9uIHByZXZTZWN0aW9uKCkge1xuXHRcdGlmICghYW5pbWF0aW5nKSB7XG5cdFx0XHR2YXIgcHJldlNlY3Rpb24gPSAkKCcuaXMtdmlzaWJsZVtkYXRhLXR5cGU9XCJzbGlkZXItaXRlbVwiXScpO1xuXHRcdFx0aWYocHJldlNlY3Rpb24ubGVuZ3RoID4gMCAmJiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgIT0gcHJldlNlY3Rpb24ub2Zmc2V0KCkudG9wKSB7XG5cdFx0XHRcdHNtb290aFNjcm9sbChwcmV2U2VjdGlvbik7XG5cdFx0XHR9IGVsc2UgaWYocHJldlNlY3Rpb24ucHJldigpLmxlbmd0aCA+IDAgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID09IHByZXZTZWN0aW9uLm9mZnNldCgpLnRvcCkge1xuXHRcdFx0XHRzbW9vdGhTY3JvbGwocHJldlNlY3Rpb24ucHJldignW2RhdGEtdHlwZT1cInNsaWRlci1pdGVtXCJdJykpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHNldFNsaWRlcigpIHtcblx0XHRjaGVja05hdmlnYXRpb24oKTtcblx0XHRjaGVja1Zpc2libGVTZWN0aW9uKCk7XG5cdH1cblxuXHQvL3VwZGF0ZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbmF2aWdhdGlvbiBhcnJvd3Ncblx0ZnVuY3Rpb24gY2hlY2tOYXZpZ2F0aW9uKCkge1xuXHRcdCggJCh3aW5kb3cpLnNjcm9sbFRvcCgpIDwgJCh3aW5kb3cpLmhlaWdodCgpLzIgKSA/ICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLXByZXYnKS5hZGRDbGFzcygnaW5hY3RpdmUnKSA6ICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLXByZXYnKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKTtcblx0XHQoICQod2luZG93KS5zY3JvbGxUb3AoKSA+ICQoZG9jdW1lbnQpLmhlaWdodCgpIC0gMyokKHdpbmRvdykuaGVpZ2h0KCkvMiApID8gJCgnLmNkLXZlcnRpY2FsLW5hdiAuY2QtbmV4dCcpLmFkZENsYXNzKCdpbmFjdGl2ZScpIDogJCgnLmNkLXZlcnRpY2FsLW5hdiAuY2QtbmV4dCcpLnJlbW92ZUNsYXNzKCdpbmFjdGl2ZScpO1xuXHR9XG5cblx0Ly9kZXRlY3Qgd2hpY2ggc2VjdGlvbiBpcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuXHRmdW5jdGlvbiBjaGVja1Zpc2libGVTZWN0aW9uKCkge1xuXHRcdHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG5cdFx0XHR3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cblx0XHQkKCdbZGF0YS10eXBlPVwic2xpZGVyLWl0ZW1cIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgYWN0dWFsQmxvY2sgPSAkKHRoaXMpLFxuXHRcdFx0XHRvZmZzZXQgPSBzY3JvbGxUb3AgLSBhY3R1YWxCbG9jay5vZmZzZXQoKS50b3A7XG5cdFx0XHQvL2FkZC9yZW1vdmUgLmlzLXZpc2libGUgY2xhc3MgaWYgdGhlIHNlY3Rpb24gaXMgaW4gdGhlIHZpZXdwb3J0IC0gaXQgaXMgdXNlZCB0byBuYXZpZ2F0ZSB0aHJvdWdoIHRoZSBzZWN0aW9uc1xuXHRcdFx0KCBvZmZzZXQgPj0gMCAmJiBvZmZzZXQgPCB3aW5kb3dIZWlnaHQgKSA/IGFjdHVhbEJsb2NrLmFkZENsYXNzKCdpcy12aXNpYmxlJykgOiBhY3R1YWxCbG9jay5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gc21vb3RoU2Nyb2xsKHRhcmdldCkge1xuXHRcdGFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoeydzY3JvbGxUb3AnOiB0YXJnZXQub2Zmc2V0KCkudG9wfSwgNTAwLCBmdW5jdGlvbigpeyBhbmltYXRpbmcgPSBmYWxzZTsgfSk7XG5cdH1cbn0pO1xuIl19"}