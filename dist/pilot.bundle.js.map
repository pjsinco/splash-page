{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/main.js"],"names":[],"mappings":"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","file":"pilot.bundle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","//require('./../../node_modules/waypoints/lib/noframework.waypoints.min.js')\n\n$(document).ready(function() {\n\n  const reveals = document.querySelectorAll('.reveal')\n  const mainBody = document.querySelector('.main-body')\n\n  let titleScreenText = ''\n\n  reveals.forEach(function(revealElement) {\n    new Waypoint({\n      element: revealElement,\n      handler: function() {\n        this.element.classList.add('on')\n      },\n      offset: '100%',\n    })\n  })\n\n  const fan = new Waypoint({\n    element: document.querySelector('.fan'),\n    handler: function(direction) {\n      this.element.classList.add('fan-out')\n    },\n    //offset: '-150%',\n    offset: '25%',\n  })\n\n  const titlescreen = new Waypoint.Sticky({\n    element: $('.titlescreen')[0],\n    handler: function() {\n      titleScreenText = $(this.element).html()\nconsole.dir($(this));\n    }\n  })\n\n  new Waypoint({\n    element: document.querySelector('.wave'),\n    handler: function(direction) {\n      if (direction === 'down') {\n        //$('.sticky-wrapper .titlescreen').html('<h2>We\\'ve expanded our news</h2>')\n        $('.sticky-wrapper .titlescreen').toggleClass('stuck')\n      } else {\n//console.log(titleScreenText);\n        //$('.sticky-wrapper .titlescreen').html(titleScreenText)\n      }\n    }\n  })\n\n  new Waypoint({\n    element: document.querySelector('#myAoa'),\n    handler: function(direction) {\n      if (direction === 'down') {\n        const innerScreen = document.querySelector('#myAoa .feature-inner-screen')\n        innerScreen.classList.add('demo')\n        window.setTimeout(function() {\n          innerScreen.classList.remove('demo')\n        }, 15000)\n      }\n    },\n    offset: '25%',\n  })\n\n//  new Waypoint({\n//    element: document.querySelector('.super'),\n//    handler: function(direction) {\n//      if (direction === 'down') {\n//        mainBody.classList.remove('fixed')\n//        mainBody.style.paddingTop = '50px'\n//        mainBody.scrollIntoView()\n//      } \n//    },\n//    offset: '-100%',\n//  })\n//\n//  new Waypoint({\n//    element: document.querySelector('#fixedFlag'),\n//    handler: function(direction) {\n//      if (direction === 'up') {\n//        mainBody.classList.add('fixed') \n//        mainBody.style.paddingTop = '0'\n//        //window.scrollBy(0, window.innerHeight) \n//        //window.scrollBy(0, -300) \n//      }\n//    },\n//    //offset: '50px',\n//  })\n\n})\n\n\njQuery(document).ready(function($){\n\tvar animating = false;\n\n\t//update arrows visibility and detect which section is visible in the viewport\n\tsetSlider();\n\n\t$(window).on('scroll resize', function(){\n\t\t(!window.requestAnimationFrame) ? setSlider() : window.requestAnimationFrame(setSlider);\n\t});\n\n\t//move to next/previous section clicking on arrows\n  $('.cd-vertical-nav .cd-prev').on('click', function(){\n  \tprevSection();\n  });\n  $('.cd-vertical-nav .cd-next').on('click', function(){\n  \tnextSection();\n  });\n\n  //move to next/previous using the keyboards\n  $(document).keydown(function(event){\n\tif( event.which=='38' ) {\n\t\tprevSection();\n\t\tevent.preventDefault();\n\t} else if( event.which=='40' ) {\n\t\tnextSection();\n\t\tevent.preventDefault();\n\t}\n});\n\n\t//go to next section\n\tfunction nextSection() {\n\t\tif (!animating) {\n\t\t\tif ($('.is-visible[data-type=\"slider-item\"]').next().length > 0) smoothScroll($('.is-visible[data-type=\"slider-item\"]').next());\n\t\t}\n\t}\n\n\t//go to previous section\n\tfunction prevSection() {\n\t\tif (!animating) {\n\t\t\tvar prevSection = $('.is-visible[data-type=\"slider-item\"]');\n\t\t\tif(prevSection.length > 0 && $(window).scrollTop() != prevSection.offset().top) {\n\t\t\t\tsmoothScroll(prevSection);\n\t\t\t} else if(prevSection.prev().length > 0 && $(window).scrollTop() == prevSection.offset().top) {\n\t\t\t\tsmoothScroll(prevSection.prev('[data-type=\"slider-item\"]'));\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setSlider() {\n\t\tcheckNavigation();\n\t\tcheckVisibleSection();\n\t}\n\n\t//update the visibility of the navigation arrows\n\tfunction checkNavigation() {\n\t\t( $(window).scrollTop() < $(window).height()/2 ) ? $('.cd-vertical-nav .cd-prev').addClass('inactive') : $('.cd-vertical-nav .cd-prev').removeClass('inactive');\n\t\t( $(window).scrollTop() > $(document).height() - 3*$(window).height()/2 ) ? $('.cd-vertical-nav .cd-next').addClass('inactive') : $('.cd-vertical-nav .cd-next').removeClass('inactive');\n\t}\n\n\t//detect which section is visible in the viewport\n\tfunction checkVisibleSection() {\n\t\tvar scrollTop = $(window).scrollTop(),\n\t\t\twindowHeight = $(window).height();\n\n\t\t$('[data-type=\"slider-item\"]').each(function(){\n\t\t\tvar actualBlock = $(this),\n\t\t\t\toffset = scrollTop - actualBlock.offset().top;\n\t\t\t//add/remove .is-visible class if the section is in the viewport - it is used to navigate through the sections\n\t\t\t( offset >= 0 && offset < windowHeight ) ? actualBlock.addClass('is-visible') : actualBlock.removeClass('is-visible');\n\t\t});\n\t}\n\n\tfunction smoothScroll(target) {\n\t\tanimating = true;\n        $('body,html').animate({'scrollTop': target.offset().top}, 500, function(){ animating = false; });\n\t}\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVc7O0FBRTNCLE1BQU0sVUFBVSxTQUFTLGdCQUFULENBQTBCLFNBQTFCLENBQWhCO0FBQ0EsTUFBTSxXQUFXLFNBQVMsYUFBVCxDQUF1QixZQUF2QixDQUFqQjs7QUFFQSxNQUFJLGtCQUFrQixFQUF0Qjs7QUFFQSxVQUFRLE9BQVIsQ0FBZ0IsVUFBUyxhQUFULEVBQXdCO0FBQ3RDLFFBQUksUUFBSixDQUFhO0FBQ1gsZUFBUyxhQURFO0FBRVgsZUFBUyxtQkFBVztBQUNsQixhQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLEdBQXZCLENBQTJCLElBQTNCO0FBQ0QsT0FKVTtBQUtYLGNBQVE7QUFMRyxLQUFiO0FBT0QsR0FSRDs7QUFVQSxNQUFNLE1BQU0sSUFBSSxRQUFKLENBQWE7QUFDdkIsYUFBUyxTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsQ0FEYztBQUV2QixhQUFTLGlCQUFTLFNBQVQsRUFBb0I7QUFDM0IsV0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixDQUEyQixTQUEzQjtBQUNELEtBSnNCO0FBS3ZCO0FBQ0EsWUFBUTtBQU5lLEdBQWIsQ0FBWjs7QUFTQSxNQUFNLGNBQWMsSUFBSSxTQUFTLE1BQWIsQ0FBb0I7QUFDdEMsYUFBUyxFQUFFLGNBQUYsRUFBa0IsQ0FBbEIsQ0FENkI7QUFFdEMsYUFBUyxtQkFBVztBQUNsQix3QkFBa0IsRUFBRSxLQUFLLE9BQVAsRUFBZ0IsSUFBaEIsRUFBbEI7QUFDTixjQUFRLEdBQVIsQ0FBWSxFQUFFLElBQUYsQ0FBWjtBQUNLO0FBTHFDLEdBQXBCLENBQXBCOztBQVFBLE1BQUksUUFBSixDQUFhO0FBQ1gsYUFBUyxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FERTtBQUVY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RSwyQkFBRixFQUErQixRQUEvQixDQUF3QyxVQUF4QyxDQUFuRCxHQUF5RyxFQUFFLDJCQUFGLEVBQStCLFdBQS9CLENBQTJDLFVBQTNDLENBQXpHO0FBQ0UsTUFBRSxNQUFGLEVBQVUsU0FBVixLQUF3QixFQUFFLFFBQUYsRUFBWSxNQUFaLEtBQXVCLElBQUUsRUFBRSxNQUFGLEVBQVUsTUFBVixFQUFGLEdBQXFCLENBQXRFLEdBQTRFLEVBQUUsMkJBQUYsRUFBK0IsUUFBL0IsQ0FBd0MsVUFBeEMsQ0FBNUUsR0FBa0ksRUFBRSwyQkFBRixFQUErQixXQUEvQixDQUEyQyxVQUEzQyxDQUFsSTtBQUNBOztBQUVEO0FBQ0EsV0FBUyxtQkFBVCxHQUErQjtBQUM5QixRQUFJLFlBQVksRUFBRSxNQUFGLEVBQVUsU0FBVixFQUFoQjtBQUFBLFFBQ0MsZUFBZSxFQUFFLE1BQUYsRUFBVSxNQUFWLEVBRGhCOztBQUdBLE1BQUUsMkJBQUYsRUFBK0IsSUFBL0IsQ0FBb0MsWUFBVTtBQUM3QyxVQUFJLGNBQWMsRUFBRSxJQUFGLENBQWxCO0FBQUEsVUFDQyxTQUFTLFlBQVksWUFBWSxNQUFaLEdBQXFCLEdBRDNDO0FBRUE7QUFDRSxnQkFBVSxDQUFWLElBQWUsU0FBUyxZQUExQixHQUEyQyxZQUFZLFFBQVosQ0FBcUIsWUFBckIsQ0FBM0MsR0FBZ0YsWUFBWSxXQUFaLENBQXdCLFlBQXhCLENBQWhGO0FBQ0EsS0FMRDtBQU1BOztBQUVELFdBQVMsWUFBVCxDQUFzQixNQUF0QixFQUE4QjtBQUM3QixnQkFBWSxJQUFaO0FBQ00sTUFBRSxXQUFGLEVBQWUsT0FBZixDQUF1QixFQUFDLGFBQWEsT0FBTyxNQUFQLEdBQWdCLEdBQTlCLEVBQXZCLEVBQTJELEdBQTNELEVBQWdFLFlBQVU7QUFBRSxrQkFBWSxLQUFaO0FBQW9CLEtBQWhHO0FBQ047QUFDRCxDQTVFRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9cmV0dXJuIGV9KSgpIiwiLy9yZXF1aXJlKCcuLy4uLy4uL25vZGVfbW9kdWxlcy93YXlwb2ludHMvbGliL25vZnJhbWV3b3JrLndheXBvaW50cy5taW4uanMnKVxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICBjb25zdCByZXZlYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmVhbCcpXG4gIGNvbnN0IG1haW5Cb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tYm9keScpXG5cbiAgbGV0IHRpdGxlU2NyZWVuVGV4dCA9ICcnXG5cbiAgcmV2ZWFscy5mb3JFYWNoKGZ1bmN0aW9uKHJldmVhbEVsZW1lbnQpIHtcbiAgICBuZXcgV2F5cG9pbnQoe1xuICAgICAgZWxlbWVudDogcmV2ZWFsRWxlbWVudCxcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnb24nKVxuICAgICAgfSxcbiAgICAgIG9mZnNldDogJzEwMCUnLFxuICAgIH0pXG4gIH0pXG5cbiAgY29uc3QgZmFuID0gbmV3IFdheXBvaW50KHtcbiAgICBlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFuJyksXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmFuLW91dCcpXG4gICAgfSxcbiAgICAvL29mZnNldDogJy0xNTAlJyxcbiAgICBvZmZzZXQ6ICcyNSUnLFxuICB9KVxuXG4gIGNvbnN0IHRpdGxlc2NyZWVuID0gbmV3IFdheXBvaW50LlN0aWNreSh7XG4gICAgZWxlbWVudDogJCgnLnRpdGxlc2NyZWVuJylbMF0sXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aXRsZVNjcmVlblRleHQgPSAkKHRoaXMuZWxlbWVudCkuaHRtbCgpXG5jb25zb2xlLmRpcigkKHRoaXMpKTtcbiAgICB9XG4gIH0pXG5cbiAgbmV3IFdheXBvaW50KHtcbiAgICBlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2F2ZScpLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgIC8vJCgnLnN0aWNreS13cmFwcGVyIC50aXRsZXNjcmVlbicpLmh0bWwoJzxoMj5XZVxcJ3ZlIGV4cGFuZGVkIG91ciBuZXdzPC9oMj4nKVxuICAgICAgICAkKCcuc3RpY2t5LXdyYXBwZXIgLnRpdGxlc2NyZWVuJykudG9nZ2xlQ2xhc3MoJ3N0dWNrJylcbiAgICAgIH0gZWxzZSB7XG4vL2NvbnNvbGUubG9nKHRpdGxlU2NyZWVuVGV4dCk7XG4gICAgICAgIC8vJCgnLnN0aWNreS13cmFwcGVyIC50aXRsZXNjcmVlbicpLmh0bWwodGl0bGVTY3JlZW5UZXh0KVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBuZXcgV2F5cG9pbnQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNteUFvYScpLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgIGNvbnN0IGlubmVyU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI215QW9hIC5mZWF0dXJlLWlubmVyLXNjcmVlbicpXG4gICAgICAgIGlubmVyU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2RlbW8nKVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpbm5lclNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdkZW1vJylcbiAgICAgICAgfSwgMTUwMDApXG4gICAgICB9XG4gICAgfSxcbiAgICBvZmZzZXQ6ICcyNSUnLFxuICB9KVxuXG4vLyAgbmV3IFdheXBvaW50KHtcbi8vICAgIGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdXBlcicpLFxuLy8gICAgaGFuZGxlcjogZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4vLyAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xuLy8gICAgICAgIG1haW5Cb2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkJylcbi8vICAgICAgICBtYWluQm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJzUwcHgnXG4vLyAgICAgICAgbWFpbkJvZHkuc2Nyb2xsSW50b1ZpZXcoKVxuLy8gICAgICB9IFxuLy8gICAgfSxcbi8vICAgIG9mZnNldDogJy0xMDAlJyxcbi8vICB9KVxuLy9cbi8vICBuZXcgV2F5cG9pbnQoe1xuLy8gICAgZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpeGVkRmxhZycpLFxuLy8gICAgaGFuZGxlcjogZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4vLyAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbi8vICAgICAgICBtYWluQm9keS5jbGFzc0xpc3QuYWRkKCdmaXhlZCcpIFxuLy8gICAgICAgIG1haW5Cb2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnMCdcbi8vICAgICAgICAvL3dpbmRvdy5zY3JvbGxCeSgwLCB3aW5kb3cuaW5uZXJIZWlnaHQpIFxuLy8gICAgICAgIC8vd2luZG93LnNjcm9sbEJ5KDAsIC0zMDApIFxuLy8gICAgICB9XG4vLyAgICB9LFxuLy8gICAgLy9vZmZzZXQ6ICc1MHB4Jyxcbi8vICB9KVxuXG59KVxuXG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XG5cdHZhciBhbmltYXRpbmcgPSBmYWxzZTtcblxuXHQvL3VwZGF0ZSBhcnJvd3MgdmlzaWJpbGl0eSBhbmQgZGV0ZWN0IHdoaWNoIHNlY3Rpb24gaXMgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnRcblx0c2V0U2xpZGVyKCk7XG5cblx0JCh3aW5kb3cpLm9uKCdzY3JvbGwgcmVzaXplJywgZnVuY3Rpb24oKXtcblx0XHQoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpID8gc2V0U2xpZGVyKCkgOiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNldFNsaWRlcik7XG5cdH0pO1xuXG5cdC8vbW92ZSB0byBuZXh0L3ByZXZpb3VzIHNlY3Rpb24gY2xpY2tpbmcgb24gYXJyb3dzXG4gICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLXByZXYnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICBcdHByZXZTZWN0aW9uKCk7XG4gIH0pO1xuICAkKCcuY2QtdmVydGljYWwtbmF2IC5jZC1uZXh0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgXHRuZXh0U2VjdGlvbigpO1xuICB9KTtcblxuICAvL21vdmUgdG8gbmV4dC9wcmV2aW91cyB1c2luZyB0aGUga2V5Ym9hcmRzXG4gICQoZG9jdW1lbnQpLmtleWRvd24oZnVuY3Rpb24oZXZlbnQpe1xuXHRpZiggZXZlbnQud2hpY2g9PSczOCcgKSB7XG5cdFx0cHJldlNlY3Rpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9IGVsc2UgaWYoIGV2ZW50LndoaWNoPT0nNDAnICkge1xuXHRcdG5leHRTZWN0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fVxufSk7XG5cblx0Ly9nbyB0byBuZXh0IHNlY3Rpb25cblx0ZnVuY3Rpb24gbmV4dFNlY3Rpb24oKSB7XG5cdFx0aWYgKCFhbmltYXRpbmcpIHtcblx0XHRcdGlmICgkKCcuaXMtdmlzaWJsZVtkYXRhLXR5cGU9XCJzbGlkZXItaXRlbVwiXScpLm5leHQoKS5sZW5ndGggPiAwKSBzbW9vdGhTY3JvbGwoJCgnLmlzLXZpc2libGVbZGF0YS10eXBlPVwic2xpZGVyLWl0ZW1cIl0nKS5uZXh0KCkpO1xuXHRcdH1cblx0fVxuXG5cdC8vZ28gdG8gcHJldmlvdXMgc2VjdGlvblxuXHRmdW5jdGlvbiBwcmV2U2VjdGlvbigpIHtcblx0XHRpZiAoIWFuaW1hdGluZykge1xuXHRcdFx0dmFyIHByZXZTZWN0aW9uID0gJCgnLmlzLXZpc2libGVbZGF0YS10eXBlPVwic2xpZGVyLWl0ZW1cIl0nKTtcblx0XHRcdGlmKHByZXZTZWN0aW9uLmxlbmd0aCA+IDAgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpICE9IHByZXZTZWN0aW9uLm9mZnNldCgpLnRvcCkge1xuXHRcdFx0XHRzbW9vdGhTY3JvbGwocHJldlNlY3Rpb24pO1xuXHRcdFx0fSBlbHNlIGlmKHByZXZTZWN0aW9uLnByZXYoKS5sZW5ndGggPiAwICYmICQod2luZG93KS5zY3JvbGxUb3AoKSA9PSBwcmV2U2VjdGlvbi5vZmZzZXQoKS50b3ApIHtcblx0XHRcdFx0c21vb3RoU2Nyb2xsKHByZXZTZWN0aW9uLnByZXYoJ1tkYXRhLXR5cGU9XCJzbGlkZXItaXRlbVwiXScpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRTbGlkZXIoKSB7XG5cdFx0Y2hlY2tOYXZpZ2F0aW9uKCk7XG5cdFx0Y2hlY2tWaXNpYmxlU2VjdGlvbigpO1xuXHR9XG5cblx0Ly91cGRhdGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIG5hdmlnYXRpb24gYXJyb3dzXG5cdGZ1bmN0aW9uIGNoZWNrTmF2aWdhdGlvbigpIHtcblx0XHQoICQod2luZG93KS5zY3JvbGxUb3AoKSA8ICQod2luZG93KS5oZWlnaHQoKS8yICkgPyAkKCcuY2QtdmVydGljYWwtbmF2IC5jZC1wcmV2JykuYWRkQ2xhc3MoJ2luYWN0aXZlJykgOiAkKCcuY2QtdmVydGljYWwtbmF2IC5jZC1wcmV2JykucmVtb3ZlQ2xhc3MoJ2luYWN0aXZlJyk7XG5cdFx0KCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAkKGRvY3VtZW50KS5oZWlnaHQoKSAtIDMqJCh3aW5kb3cpLmhlaWdodCgpLzIgKSA/ICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLW5leHQnKS5hZGRDbGFzcygnaW5hY3RpdmUnKSA6ICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLW5leHQnKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKTtcblx0fVxuXG5cdC8vZGV0ZWN0IHdoaWNoIHNlY3Rpb24gaXMgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnRcblx0ZnVuY3Rpb24gY2hlY2tWaXNpYmxlU2VjdGlvbigpIHtcblx0XHR2YXIgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuXHRcdFx0d2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXG5cdFx0JCgnW2RhdGEtdHlwZT1cInNsaWRlci1pdGVtXCJdJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGFjdHVhbEJsb2NrID0gJCh0aGlzKSxcblx0XHRcdFx0b2Zmc2V0ID0gc2Nyb2xsVG9wIC0gYWN0dWFsQmxvY2sub2Zmc2V0KCkudG9wO1xuXHRcdFx0Ly9hZGQvcmVtb3ZlIC5pcy12aXNpYmxlIGNsYXNzIGlmIHRoZSBzZWN0aW9uIGlzIGluIHRoZSB2aWV3cG9ydCAtIGl0IGlzIHVzZWQgdG8gbmF2aWdhdGUgdGhyb3VnaCB0aGUgc2VjdGlvbnNcblx0XHRcdCggb2Zmc2V0ID49IDAgJiYgb2Zmc2V0IDwgd2luZG93SGVpZ2h0ICkgPyBhY3R1YWxCbG9jay5hZGRDbGFzcygnaXMtdmlzaWJsZScpIDogYWN0dWFsQmxvY2sucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNtb290aFNjcm9sbCh0YXJnZXQpIHtcblx0XHRhbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHsnc2Nyb2xsVG9wJzogdGFyZ2V0Lm9mZnNldCgpLnRvcH0sIDUwMCwgZnVuY3Rpb24oKXsgYW5pbWF0aW5nID0gZmFsc2U7IH0pO1xuXHR9XG59KTtcbiJdfQ=="}