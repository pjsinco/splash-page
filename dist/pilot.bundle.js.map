{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/main.js"],"names":[],"mappings":"AAAA;;;ACAA;;AAEA,EAAE,QAAF,EAAY,KAAZ,CAAkB,YAAW;;AAE3B,KAAM,UAAU,SAAS,gBAAT,CAA0B,SAA1B,CAAhB;AACA,KAAM,WAAW,SAAS,aAAT,CAAuB,YAAvB,CAAjB;;AAEA,KAAI,kBAAkB,EAAtB;;AAEA,SAAQ,OAAR,CAAgB,UAAS,aAAT,EAAwB;AACtC,MAAI,QAAJ,CAAa;AACX,YAAS,aADE;AAEX,YAAS,mBAAW;AAClB,SAAK,OAAL,CAAa,SAAb,CAAuB,GAAvB,CAA2B,IAA3B;AACD,IAJU;AAKX,WAAQ;AALG,GAAb;AAOD,EARD;;AAUA,KAAM,MAAM,IAAI,QAAJ,CAAa;AACvB,WAAS,SAAS,aAAT,CAAuB,MAAvB,CADc;AAEvB,WAAS,iBAAS,SAAT,EAAoB;AAC3B,QAAK,OAAL,CAAa,SAAb,CAAuB,GAAvB,CAA2B,SAA3B;AACD,GAJsB;AAKvB;AACA,UAAQ;AANe,EAAb,CAAZ;;AASA,KAAM,cAAc,IAAI,SAAS,MAAb,CAAoB;AACtC,WAAS,EAAE,cAAF,EAAkB,CAAlB,CAD6B;AAEtC,WAAS,mBAAW;AAClB,qBAAkB,EAAE,KAAK,OAAP,EAAgB,IAAhB,EAAlB;AACN,WAAQ,GAAR,CAAY,EAAE,IAAF,CAAZ;AACK;AALqC,EAApB,CAApB;;AAQA,KAAI,QAAJ,CAAa;AACX,WAAS,SAAS,aAAT,CAAuB,OAAvB,CADE;AAEX,WAAS,iBAAS,SAAT,EAAoB;AAC3B,OAAI,cAAc,MAAlB,EAA0B;AACxB;AACA,MAAE,8BAAF,EAAkC,WAAlC,CAA8C,OAA9C;AACD,IAHD,MAGO;AACb;AACQ;AACD;AACF;AAVU,EAAb;;AAaF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEC,CAxED;;AA2EA,OAAO,QAAP,EAAiB,KAAjB,CAAuB,UAAS,CAAT,EAAW;AACjC,KAAI,YAAY,KAAhB;;AAEA;AACA;;AAEA,GAAE,MAAF,EAAU,EAAV,CAAa,eAAb,EAA8B,YAAU;AACtC,GAAC,OAAO,qBAAT,GAAkC,WAAlC,GAAgD,OAAO,qBAAP,CAA6B,SAA7B,CAAhD;AACA,EAFD;;AAIA;AACC,GAAE,2BAAF,EAA+B,EAA/B,CAAkC,OAAlC,EAA2C,YAAU;AACpD;AACA,EAFD;AAGA,GAAE,2BAAF,EAA+B,EAA/B,CAAkC,OAAlC,EAA2C,YAAU;AACpD;AACA,EAFD;;AAIA;AACA,GAAE,QAAF,EAAY,OAAZ,CAAoB,UAAS,KAAT,EAAe;AACpC,MAAI,MAAM,KAAN,IAAa,IAAjB,EAAwB;AACvB;AACA,SAAM,cAAN;AACA,GAHD,MAGO,IAAI,MAAM,KAAN,IAAa,IAAjB,EAAwB;AAC9B;AACA,SAAM,cAAN;AACA;AACD,EARC;;AAUD;AACA,UAAS,WAAT,GAAuB;AACtB,MAAI,CAAC,SAAL,EAAgB;AACf,OAAI,EAAE,sCAAF,EAA0C,IAA1C,GAAiD,MAAjD,GAA0D,CAA9D,EAAiE,aAAa,EAAE,sCAAF,EAA0C,IAA1C,EAAb;AACjE;AACD;;AAED;AACA,UAAS,WAAT,GAAuB;AACtB,MAAI,CAAC,SAAL,EAAgB;AACf,OAAI,cAAc,EAAE,sCAAF,CAAlB;AACA,OAAG,YAAY,MAAZ,GAAqB,CAArB,IAA0B,EAAE,MAAF,EAAU,SAAV,MAAyB,YAAY,MAAZ,GAAqB,GAA3E,EAAgF;AAC/E,iBAAa,WAAb;AACA,IAFD,MAEO,IAAG,YAAY,IAAZ,GAAmB,MAAnB,GAA4B,CAA5B,IAAiC,EAAE,MAAF,EAAU,SAAV,MAAyB,YAAY,MAAZ,GAAqB,GAAlF,EAAuF;AAC7F,iBAAa,YAAY,IAAZ,CAAiB,2BAAjB,CAAb;AACA;AACD;AACD;;AAED,UAAS,SAAT,GAAqB;AACpB;AACA;AACA;;AAED;AACA,UAAS,eAAT,GAA2B;AACxB,IAAE,MAAF,EAAU,SAAV,KAAwB,EAAE,MAAF,EAAU,MAAV,KAAmB,CAA7C,GAAmD,EAAE,2BAAF,EAA+B,QAA/B,CAAwC,UAAxC,CAAnD,GAAyG,EAAE,2BAAF,EAA+B,WAA/B,CAA2C,UAA3C,CAAzG;AACE,IAAE,MAAF,EAAU,SAAV,KAAwB,EAAE,QAAF,EAAY,MAAZ,KAAuB,IAAE,EAAE,MAAF,EAAU,MAAV,EAAF,GAAqB,CAAtE,GAA4E,EAAE,2BAAF,EAA+B,QAA/B,CAAwC,UAAxC,CAA5E,GAAkI,EAAE,2BAAF,EAA+B,WAA/B,CAA2C,UAA3C,CAAlI;AACA;;AAED;AACA,UAAS,mBAAT,GAA+B;AAC9B,MAAI,YAAY,EAAE,MAAF,EAAU,SAAV,EAAhB;AAAA,MACC,eAAe,EAAE,MAAF,EAAU,MAAV,EADhB;;AAGA,IAAE,2BAAF,EAA+B,IAA/B,CAAoC,YAAU;AAC7C,OAAI,cAAc,EAAE,IAAF,CAAlB;AAAA,OACC,SAAS,YAAY,YAAY,MAAZ,GAAqB,GAD3C;AAEA;AACE,aAAU,CAAV,IAAe,SAAS,YAA1B,GAA2C,YAAY,QAAZ,CAAqB,YAArB,CAA3C,GAAgF,YAAY,WAAZ,CAAwB,YAAxB,CAAhF;AACA,GALD;AAMA;;AAED,UAAS,YAAT,CAAsB,MAAtB,EAA8B;AAC7B,cAAY,IAAZ;AACM,IAAE,WAAF,EAAe,OAAf,CAAuB,EAAC,aAAa,OAAO,MAAP,GAAgB,GAA9B,EAAvB,EAA2D,GAA3D,EAAgE,YAAU;AAAE,eAAY,KAAZ;AAAoB,GAAhG;AACN;AACD,CA5ED","file":"pilot.bundle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","//require('./../../node_modules/waypoints/lib/noframework.waypoints.min.js')\n\n$(document).ready(function() {\n\n  const reveals = document.querySelectorAll('.reveal')\n  const mainBody = document.querySelector('.main-body')\n\n  let titleScreenText = ''\n\n  reveals.forEach(function(revealElement) {\n    new Waypoint({\n      element: revealElement,\n      handler: function() {\n        this.element.classList.add('on')\n      },\n      offset: '100%',\n    })\n  })\n\n  const fan = new Waypoint({\n    element: document.querySelector('.fan'),\n    handler: function(direction) {\n      this.element.classList.add('fan-out')\n    },\n    //offset: '-150%',\n    offset: '25%',\n  })\n\n  const titlescreen = new Waypoint.Sticky({\n    element: $('.titlescreen')[0],\n    handler: function() {\n      titleScreenText = $(this.element).html()\nconsole.dir($(this));\n    }\n  })\n\n  new Waypoint({\n    element: document.querySelector('.wave'),\n    handler: function(direction) {\n      if (direction === 'down') {\n        //$('.sticky-wrapper .titlescreen').html('<h2>We\\'ve expanded our news</h2>')\n        $('.sticky-wrapper .titlescreen').toggleClass('stuck')\n      } else {\n//console.log(titleScreenText);\n        //$('.sticky-wrapper .titlescreen').html(titleScreenText)\n      }\n    }\n  })\n\n//  new Waypoint({\n//    element: document.querySelector('.super'),\n//    handler: function(direction) {\n//      if (direction === 'down') {\n//        mainBody.classList.remove('fixed')\n//        mainBody.style.paddingTop = '50px'\n//        mainBody.scrollIntoView()\n//      } \n//    },\n//    offset: '-100%',\n//  })\n//\n//  new Waypoint({\n//    element: document.querySelector('#fixedFlag'),\n//    handler: function(direction) {\n//      if (direction === 'up') {\n//        mainBody.classList.add('fixed') \n//        mainBody.style.paddingTop = '0'\n//        //window.scrollBy(0, window.innerHeight) \n//        //window.scrollBy(0, -300) \n//      }\n//    },\n//    //offset: '50px',\n//  })\n\n})\n\n\njQuery(document).ready(function($){\n\tvar animating = false;\n\n\t//update arrows visibility and detect which section is visible in the viewport\n\tsetSlider();\n\n\t$(window).on('scroll resize', function(){\n\t\t(!window.requestAnimationFrame) ? setSlider() : window.requestAnimationFrame(setSlider);\n\t});\n\n\t//move to next/previous section clicking on arrows\n  $('.cd-vertical-nav .cd-prev').on('click', function(){\n  \tprevSection();\n  });\n  $('.cd-vertical-nav .cd-next').on('click', function(){\n  \tnextSection();\n  });\n\n  //move to next/previous using the keyboards\n  $(document).keydown(function(event){\n\tif( event.which=='38' ) {\n\t\tprevSection();\n\t\tevent.preventDefault();\n\t} else if( event.which=='40' ) {\n\t\tnextSection();\n\t\tevent.preventDefault();\n\t}\n});\n\n\t//go to next section\n\tfunction nextSection() {\n\t\tif (!animating) {\n\t\t\tif ($('.is-visible[data-type=\"slider-item\"]').next().length > 0) smoothScroll($('.is-visible[data-type=\"slider-item\"]').next());\n\t\t}\n\t}\n\n\t//go to previous section\n\tfunction prevSection() {\n\t\tif (!animating) {\n\t\t\tvar prevSection = $('.is-visible[data-type=\"slider-item\"]');\n\t\t\tif(prevSection.length > 0 && $(window).scrollTop() != prevSection.offset().top) {\n\t\t\t\tsmoothScroll(prevSection);\n\t\t\t} else if(prevSection.prev().length > 0 && $(window).scrollTop() == prevSection.offset().top) {\n\t\t\t\tsmoothScroll(prevSection.prev('[data-type=\"slider-item\"]'));\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setSlider() {\n\t\tcheckNavigation();\n\t\tcheckVisibleSection();\n\t}\n\n\t//update the visibility of the navigation arrows\n\tfunction checkNavigation() {\n\t\t( $(window).scrollTop() < $(window).height()/2 ) ? $('.cd-vertical-nav .cd-prev').addClass('inactive') : $('.cd-vertical-nav .cd-prev').removeClass('inactive');\n\t\t( $(window).scrollTop() > $(document).height() - 3*$(window).height()/2 ) ? $('.cd-vertical-nav .cd-next').addClass('inactive') : $('.cd-vertical-nav .cd-next').removeClass('inactive');\n\t}\n\n\t//detect which section is visible in the viewport\n\tfunction checkVisibleSection() {\n\t\tvar scrollTop = $(window).scrollTop(),\n\t\t\twindowHeight = $(window).height();\n\n\t\t$('[data-type=\"slider-item\"]').each(function(){\n\t\t\tvar actualBlock = $(this),\n\t\t\t\toffset = scrollTop - actualBlock.offset().top;\n\t\t\t//add/remove .is-visible class if the section is in the viewport - it is used to navigate through the sections\n\t\t\t( offset >= 0 && offset < windowHeight ) ? actualBlock.addClass('is-visible') : actualBlock.removeClass('is-visible');\n\t\t});\n\t}\n\n\tfunction smoothScroll(target) {\n\t\tanimating = true;\n        $('body,html').animate({'scrollTop': target.offset().top}, 500, function(){ animating = false; });\n\t}\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVc7O0FBRTNCLEtBQU0sVUFBVSxTQUFTLGdCQUFULENBQTBCLFNBQTFCLENBQWhCO0FBQ0EsS0FBTSxXQUFXLFNBQVMsYUFBVCxDQUF1QixZQUF2QixDQUFqQjs7QUFFQSxLQUFJLGtCQUFrQixFQUF0Qjs7QUFFQSxTQUFRLE9BQVIsQ0FBZ0IsVUFBUyxhQUFULEVBQXdCO0FBQ3RDLE1BQUksUUFBSixDQUFhO0FBQ1gsWUFBUyxhQURFO0FBRVgsWUFBUyxtQkFBVztBQUNsQixTQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLEdBQXZCLENBQTJCLElBQTNCO0FBQ0QsSUFKVTtBQUtYLFdBQVE7QUFMRyxHQUFiO0FBT0QsRUFSRDs7QUFVQSxLQUFNLE1BQU0sSUFBSSxRQUFKLENBQWE7QUFDdkIsV0FBUyxTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsQ0FEYztBQUV2QixXQUFTLGlCQUFTLFNBQVQsRUFBb0I7QUFDM0IsUUFBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixDQUEyQixTQUEzQjtBQUNELEdBSnNCO0FBS3ZCO0FBQ0EsVUFBUTtBQU5lLEVBQWIsQ0FBWjs7QUFTQSxLQUFNLGNBQWMsSUFBSSxTQUFTLE1BQWIsQ0FBb0I7QUFDdEMsV0FBUyxFQUFFLGNBQUYsRUFBa0IsQ0FBbEIsQ0FENkI7QUFFdEMsV0FBUyxtQkFBVztBQUNsQixxQkFBa0IsRUFBRSxLQUFLLE9BQVAsRUFBZ0IsSUFBaEIsRUFBbEI7QUFDTixXQUFRLEdBQVIsQ0FBWSxFQUFFLElBQUYsQ0FBWjtBQUNLO0FBTHFDLEVBQXBCLENBQXBCOztBQVFBLEtBQUksUUFBSixDQUFhO0FBQ1gsV0FBUyxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FERTtBQUVY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SSxZQUFZLEVBQUUsTUFBRixFQUFVLFNBQVYsRUFBaEI7QUFBQSxNQUNDLGVBQWUsRUFBRSxNQUFGLEVBQVUsTUFBVixFQURoQjs7QUFHQSxJQUFFLDJCQUFGLEVBQStCLElBQS9CLENBQW9DLFlBQVU7QUFDN0MsT0FBSSxjQUFjLEVBQUUsSUFBRixDQUFsQjtBQUFBLE9BQ0MsU0FBUyxZQUFZLFlBQVksTUFBWixHQUFxQixHQUQzQztBQUVBO0FBQ0UsYUFBVSxDQUFWLElBQWUsU0FBUyxZQUExQixHQUEyQyxZQUFZLFFBQVosQ0FBcUIsWUFBckIsQ0FBM0MsR0FBZ0YsWUFBWSxXQUFaLENBQXdCLFlBQXhCLENBQWhGO0FBQ0EsR0FMRDtBQU1BOztBQUVELFVBQVMsWUFBVCxDQUFzQixNQUF0QixFQUE4QjtBQUM3QixjQUFZLElBQVo7QUFDTSxJQUFFLFdBQUYsRUFBZSxPQUFmLENBQXVCLEVBQUMsYUFBYSxPQUFPLE1BQVAsR0FBZ0IsR0FBOUIsRUFBdkIsRUFBMkQsR0FBM0QsRUFBZ0UsWUFBVTtBQUFFLGVBQVksS0FBWjtBQUFvQixHQUFoRztBQUNOO0FBQ0QsQ0E1RUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsIi8vcmVxdWlyZSgnLi8uLi8uLi9ub2RlX21vZHVsZXMvd2F5cG9pbnRzL2xpYi9ub2ZyYW1ld29yay53YXlwb2ludHMubWluLmpzJylcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgY29uc3QgcmV2ZWFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZlYWwnKVxuICBjb25zdCBtYWluQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLWJvZHknKVxuXG4gIGxldCB0aXRsZVNjcmVlblRleHQgPSAnJ1xuXG4gIHJldmVhbHMuZm9yRWFjaChmdW5jdGlvbihyZXZlYWxFbGVtZW50KSB7XG4gICAgbmV3IFdheXBvaW50KHtcbiAgICAgIGVsZW1lbnQ6IHJldmVhbEVsZW1lbnQsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ29uJylcbiAgICAgIH0sXG4gICAgICBvZmZzZXQ6ICcxMDAlJyxcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IGZhbiA9IG5ldyBXYXlwb2ludCh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhbicpLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Zhbi1vdXQnKVxuICAgIH0sXG4gICAgLy9vZmZzZXQ6ICctMTUwJScsXG4gICAgb2Zmc2V0OiAnMjUlJyxcbiAgfSlcblxuICBjb25zdCB0aXRsZXNjcmVlbiA9IG5ldyBXYXlwb2ludC5TdGlja3koe1xuICAgIGVsZW1lbnQ6ICQoJy50aXRsZXNjcmVlbicpWzBdLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGl0bGVTY3JlZW5UZXh0ID0gJCh0aGlzLmVsZW1lbnQpLmh0bWwoKVxuY29uc29sZS5kaXIoJCh0aGlzKSk7XG4gICAgfVxuICB9KVxuXG4gIG5ldyBXYXlwb2ludCh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndhdmUnKSxcbiAgICBoYW5kbGVyOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICAvLyQoJy5zdGlja3ktd3JhcHBlciAudGl0bGVzY3JlZW4nKS5odG1sKCc8aDI+V2VcXCd2ZSBleHBhbmRlZCBvdXIgbmV3czwvaDI+JylcbiAgICAgICAgJCgnLnN0aWNreS13cmFwcGVyIC50aXRsZXNjcmVlbicpLnRvZ2dsZUNsYXNzKCdzdHVjaycpXG4gICAgICB9IGVsc2Uge1xuLy9jb25zb2xlLmxvZyh0aXRsZVNjcmVlblRleHQpO1xuICAgICAgICAvLyQoJy5zdGlja3ktd3JhcHBlciAudGl0bGVzY3JlZW4nKS5odG1sKHRpdGxlU2NyZWVuVGV4dClcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbi8vICBuZXcgV2F5cG9pbnQoe1xuLy8gICAgZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1cGVyJyksXG4vLyAgICBoYW5kbGVyOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbi8vICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4vLyAgICAgICAgbWFpbkJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKVxuLy8gICAgICAgIG1haW5Cb2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnNTBweCdcbi8vICAgICAgICBtYWluQm9keS5zY3JvbGxJbnRvVmlldygpXG4vLyAgICAgIH0gXG4vLyAgICB9LFxuLy8gICAgb2Zmc2V0OiAnLTEwMCUnLFxuLy8gIH0pXG4vL1xuLy8gIG5ldyBXYXlwb2ludCh7XG4vLyAgICBlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZml4ZWRGbGFnJyksXG4vLyAgICBoYW5kbGVyOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbi8vICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuLy8gICAgICAgIG1haW5Cb2R5LmNsYXNzTGlzdC5hZGQoJ2ZpeGVkJykgXG4vLyAgICAgICAgbWFpbkJvZHkuc3R5bGUucGFkZGluZ1RvcCA9ICcwJ1xuLy8gICAgICAgIC8vd2luZG93LnNjcm9sbEJ5KDAsIHdpbmRvdy5pbm5lckhlaWdodCkgXG4vLyAgICAgICAgLy93aW5kb3cuc2Nyb2xsQnkoMCwgLTMwMCkgXG4vLyAgICAgIH1cbi8vICAgIH0sXG4vLyAgICAvL29mZnNldDogJzUwcHgnLFxuLy8gIH0pXG5cbn0pXG5cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcblx0dmFyIGFuaW1hdGluZyA9IGZhbHNlO1xuXG5cdC8vdXBkYXRlIGFycm93cyB2aXNpYmlsaXR5IGFuZCBkZXRlY3Qgd2hpY2ggc2VjdGlvbiBpcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuXHRzZXRTbGlkZXIoKTtcblxuXHQkKHdpbmRvdykub24oJ3Njcm9sbCByZXNpemUnLCBmdW5jdGlvbigpe1xuXHRcdCghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgPyBzZXRTbGlkZXIoKSA6IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2V0U2xpZGVyKTtcblx0fSk7XG5cblx0Ly9tb3ZlIHRvIG5leHQvcHJldmlvdXMgc2VjdGlvbiBjbGlja2luZyBvbiBhcnJvd3NcbiAgJCgnLmNkLXZlcnRpY2FsLW5hdiAuY2QtcHJldicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gIFx0cHJldlNlY3Rpb24oKTtcbiAgfSk7XG4gICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLW5leHQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICBcdG5leHRTZWN0aW9uKCk7XG4gIH0pO1xuXG4gIC8vbW92ZSB0byBuZXh0L3ByZXZpb3VzIHVzaW5nIHRoZSBrZXlib2FyZHNcbiAgJChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbihldmVudCl7XG5cdGlmKCBldmVudC53aGljaD09JzM4JyApIHtcblx0XHRwcmV2U2VjdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0gZWxzZSBpZiggZXZlbnQud2hpY2g9PSc0MCcgKSB7XG5cdFx0bmV4dFNlY3Rpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG59KTtcblxuXHQvL2dvIHRvIG5leHQgc2VjdGlvblxuXHRmdW5jdGlvbiBuZXh0U2VjdGlvbigpIHtcblx0XHRpZiAoIWFuaW1hdGluZykge1xuXHRcdFx0aWYgKCQoJy5pcy12aXNpYmxlW2RhdGEtdHlwZT1cInNsaWRlci1pdGVtXCJdJykubmV4dCgpLmxlbmd0aCA+IDApIHNtb290aFNjcm9sbCgkKCcuaXMtdmlzaWJsZVtkYXRhLXR5cGU9XCJzbGlkZXItaXRlbVwiXScpLm5leHQoKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly9nbyB0byBwcmV2aW91cyBzZWN0aW9uXG5cdGZ1bmN0aW9uIHByZXZTZWN0aW9uKCkge1xuXHRcdGlmICghYW5pbWF0aW5nKSB7XG5cdFx0XHR2YXIgcHJldlNlY3Rpb24gPSAkKCcuaXMtdmlzaWJsZVtkYXRhLXR5cGU9XCJzbGlkZXItaXRlbVwiXScpO1xuXHRcdFx0aWYocHJldlNlY3Rpb24ubGVuZ3RoID4gMCAmJiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgIT0gcHJldlNlY3Rpb24ub2Zmc2V0KCkudG9wKSB7XG5cdFx0XHRcdHNtb290aFNjcm9sbChwcmV2U2VjdGlvbik7XG5cdFx0XHR9IGVsc2UgaWYocHJldlNlY3Rpb24ucHJldigpLmxlbmd0aCA+IDAgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID09IHByZXZTZWN0aW9uLm9mZnNldCgpLnRvcCkge1xuXHRcdFx0XHRzbW9vdGhTY3JvbGwocHJldlNlY3Rpb24ucHJldignW2RhdGEtdHlwZT1cInNsaWRlci1pdGVtXCJdJykpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHNldFNsaWRlcigpIHtcblx0XHRjaGVja05hdmlnYXRpb24oKTtcblx0XHRjaGVja1Zpc2libGVTZWN0aW9uKCk7XG5cdH1cblxuXHQvL3VwZGF0ZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbmF2aWdhdGlvbiBhcnJvd3Ncblx0ZnVuY3Rpb24gY2hlY2tOYXZpZ2F0aW9uKCkge1xuXHRcdCggJCh3aW5kb3cpLnNjcm9sbFRvcCgpIDwgJCh3aW5kb3cpLmhlaWdodCgpLzIgKSA/ICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLXByZXYnKS5hZGRDbGFzcygnaW5hY3RpdmUnKSA6ICQoJy5jZC12ZXJ0aWNhbC1uYXYgLmNkLXByZXYnKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKTtcblx0XHQoICQod2luZG93KS5zY3JvbGxUb3AoKSA+ICQoZG9jdW1lbnQpLmhlaWdodCgpIC0gMyokKHdpbmRvdykuaGVpZ2h0KCkvMiApID8gJCgnLmNkLXZlcnRpY2FsLW5hdiAuY2QtbmV4dCcpLmFkZENsYXNzKCdpbmFjdGl2ZScpIDogJCgnLmNkLXZlcnRpY2FsLW5hdiAuY2QtbmV4dCcpLnJlbW92ZUNsYXNzKCdpbmFjdGl2ZScpO1xuXHR9XG5cblx0Ly9kZXRlY3Qgd2hpY2ggc2VjdGlvbiBpcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuXHRmdW5jdGlvbiBjaGVja1Zpc2libGVTZWN0aW9uKCkge1xuXHRcdHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG5cdFx0XHR3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cblx0XHQkKCdbZGF0YS10eXBlPVwic2xpZGVyLWl0ZW1cIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgYWN0dWFsQmxvY2sgPSAkKHRoaXMpLFxuXHRcdFx0XHRvZmZzZXQgPSBzY3JvbGxUb3AgLSBhY3R1YWxCbG9jay5vZmZzZXQoKS50b3A7XG5cdFx0XHQvL2FkZC9yZW1vdmUgLmlzLXZpc2libGUgY2xhc3MgaWYgdGhlIHNlY3Rpb24gaXMgaW4gdGhlIHZpZXdwb3J0IC0gaXQgaXMgdXNlZCB0byBuYXZpZ2F0ZSB0aHJvdWdoIHRoZSBzZWN0aW9uc1xuXHRcdFx0KCBvZmZzZXQgPj0gMCAmJiBvZmZzZXQgPCB3aW5kb3dIZWlnaHQgKSA/IGFjdHVhbEJsb2NrLmFkZENsYXNzKCdpcy12aXNpYmxlJykgOiBhY3R1YWxCbG9jay5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gc21vb3RoU2Nyb2xsKHRhcmdldCkge1xuXHRcdGFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoeydzY3JvbGxUb3AnOiB0YXJnZXQub2Zmc2V0KCkudG9wfSwgNTAwLCBmdW5jdGlvbigpeyBhbmltYXRpbmcgPSBmYWxzZTsgfSk7XG5cdH1cbn0pO1xuIl19"}